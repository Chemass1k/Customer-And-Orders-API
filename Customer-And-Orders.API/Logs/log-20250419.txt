2025-04-19 09:43:07.859 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:43:08.055 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 09:43:08.055 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 09:43:08.106 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:43:08.107 -07:00 [INF] Hosting environment: Development
2025-04-19 09:43:08.108 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 09:43:08.690 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger - null null
2025-04-19 09:43:08.767 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger - 301 0 null 81.4157ms
2025-04-19 09:43:08.770 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 09:43:08.804 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 34.2442ms
2025-04-19 09:43:08.808 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/swagger-ui.css - null null
2025-04-19 09:43:08.808 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/swagger-ui-standalone-preset.js - null null
2025-04-19 09:43:08.808 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/swagger-ui-bundle.js - null null
2025-04-19 09:43:08.808 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:43:08.825 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 17.3384ms
2025-04-19 09:43:08.830 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 09:43:08.830 -07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-19 09:43:08.830 -07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-19 09:43:08.836 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 28.0583ms
2025-04-19 09:43:08.838 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/favicon-32x32.png - null null
2025-04-19 09:43:08.836 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/swagger-ui.css - 200 152034 text/css 28.1823ms
2025-04-19 09:43:08.843 -07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-19 09:43:08.842 -07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-19 09:43:08.845 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 37.7629ms
2025-04-19 09:43:08.846 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/favicon-32x32.png - 200 628 image/png 8.5468ms
2025-04-19 09:43:08.907 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.5831ms
2025-04-19 09:43:08.938 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 09:43:08.949 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4657ms
2025-04-19 09:43:23.753 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 53
2025-04-19 09:43:23.793 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 09:43:23.808 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 09:43:23.944 -07:00 [INF] Signing in chema
2025-04-19 09:43:23.948 -07:00 [INF] Trying to sign in chema
2025-04-19 09:43:24.522 -07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 09:43:24.737 -07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 09:43:24.744 -07:00 [INF] User chema signed in successfuly
2025-04-19 09:43:24.745 -07:00 [INF] User chema signed in!
2025-04-19 09:43:24.748 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 09:43:24.754 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 943.1938ms
2025-04-19 09:43:24.755 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 09:43:24.759 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 1005.6281ms
2025-04-19 09:43:38.617 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=true - null null
2025-04-19 09:43:38.641 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:43:38.646 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:43:38.653 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:43:38.655 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:43:38.673 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:43:38.681 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:43:38.681 -07:00 [INF] Orders recieved!
2025-04-19 09:43:38.682 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:43:38.686 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 39.4291ms
2025-04-19 09:43:38.687 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:43:38.688 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=true - 200 null application/json; charset=utf-8 70.8392ms
2025-04-19 09:43:43.488 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - null null
2025-04-19 09:43:43.495 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:43:43.496 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:43:43.499 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:43:43.499 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:43:43.529 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:43:43.531 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:43:43.531 -07:00 [INF] Orders recieved!
2025-04-19 09:43:43.532 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:43:43.533 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 35.42ms
2025-04-19 09:43:43.534 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:43:43.535 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - 200 null application/json; charset=utf-8 46.6778ms
2025-04-19 09:44:16.295 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=1&Status=Ready - null null
2025-04-19 09:44:16.297 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:16.298 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:44:16.301 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:44:16.301 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:44:16.309 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__queryParams_Status_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0 AND [o].[Status] = @__queryParams_Status_1
ORDER BY [o].[Id]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-19 09:44:16.311 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:44:16.311 -07:00 [INF] Orders recieved!
2025-04-19 09:44:16.311 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:44:16.312 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 13.268ms
2025-04-19 09:44:16.313 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:16.314 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=1&Status=Ready - 200 null application/json; charset=utf-8 19.5728ms
2025-04-19 09:44:20.136 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=1&Status=Updated - null null
2025-04-19 09:44:20.139 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:20.139 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:44:20.141 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:44:20.142 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:44:20.144 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__queryParams_Status_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0 AND [o].[Status] = @__queryParams_Status_1
ORDER BY [o].[Id]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-19 09:44:20.146 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:44:20.146 -07:00 [INF] Orders recieved!
2025-04-19 09:44:20.147 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:44:20.148 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 7.5246ms
2025-04-19 09:44:20.149 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:20.150 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=1&Status=Updated - 200 null application/json; charset=utf-8 14.2427ms
2025-04-19 09:44:24.438 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=2&Status=Updated - null null
2025-04-19 09:44:24.440 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:24.441 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:44:24.443 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:44:24.444 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:44:24.446 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__queryParams_Status_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0 AND [o].[Status] = @__queryParams_Status_1
ORDER BY [o].[Id]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-19 09:44:24.449 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:44:24.450 -07:00 [INF] Orders recieved!
2025-04-19 09:44:24.450 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:44:24.451 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 8.2036ms
2025-04-19 09:44:24.452 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:24.453 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=2&Status=Updated - 200 null application/json; charset=utf-8 14.4183ms
2025-04-19 09:44:32.617 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-by-id?id=4 - null null
2025-04-19 09:44:32.619 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetOrderByIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:32.621 -07:00 [INF] Route matched with {action = "GetOrderById", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderByIdAsync(Int32) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:44:32.624 -07:00 [INF] Trying to get order with id 4
2025-04-19 09:44:32.625 -07:00 [INF] Looking for order with id 4 in database
2025-04-19 09:44:32.629 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[Id] = @__id_0
2025-04-19 09:44:32.631 -07:00 [INF] Recieved order with Id: 4
2025-04-19 09:44:32.631 -07:00 [INF] 
2025-04-19 09:44:32.632 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.Order'.
2025-04-19 09:44:32.632 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetOrderByIdAsync (Customer-And-Orders.API) in 9.8406ms
2025-04-19 09:44:32.633 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetOrderByIdAsync (Customer-And-Orders.API)'
2025-04-19 09:44:32.634 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-by-id?id=4 - 200 null application/json; charset=utf-8 17.3975ms
2025-04-19 09:45:42.847 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=2&Search=FirstOrder - null null
2025-04-19 09:45:42.850 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:45:42.851 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:45:42.853 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:45:42.853 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:45:42.857 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:45:42.859 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:45:42.860 -07:00 [INF] Orders recieved!
2025-04-19 09:45:42.860 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:45:42.861 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 8.3613ms
2025-04-19 09:45:42.862 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:45:42.863 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Page=1&PageSize=2&Search=FirstOrder - 200 null application/json; charset=utf-8 18.7198ms
2025-04-19 09:47:09.491 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 09:47:09.500 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 8.9861ms
2025-04-19 09:47:09.507 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:47:09.507 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 09:47:09.509 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 2.3096ms
2025-04-19 09:47:09.518 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.1399ms
2025-04-19 09:47:09.605 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 09:47:09.608 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/favicon-32x32.png - null null
2025-04-19 09:47:09.610 -07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-19 09:47:09.612 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/favicon-32x32.png - 200 628 image/png 3.7847ms
2025-04-19 09:47:09.612 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.1845ms
2025-04-19 09:47:18.880 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - null null
2025-04-19 09:47:18.883 -07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-04-19 09:47:18.885 -07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-04-19 09:47:18.886 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - 401 0 null 5.9787ms
2025-04-19 09:47:35.447 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 53
2025-04-19 09:47:35.449 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 09:47:35.452 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 09:47:35.454 -07:00 [INF] Signing in chema
2025-04-19 09:47:35.454 -07:00 [INF] Trying to sign in chema
2025-04-19 09:47:35.456 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 09:47:35.583 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 09:47:35.585 -07:00 [INF] User chema signed in successfuly
2025-04-19 09:47:35.585 -07:00 [INF] User chema signed in!
2025-04-19 09:47:35.586 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 09:47:35.587 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 134.4168ms
2025-04-19 09:47:35.588 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 09:47:35.589 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 141.9995ms
2025-04-19 09:47:45.933 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - null null
2025-04-19 09:47:45.936 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:47:45.939 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:47:45.941 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:47:45.942 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:47:45.946 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:47:45.948 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:47:45.948 -07:00 [INF] Orders recieved!
2025-04-19 09:47:45.949 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:47:45.950 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 9.7942ms
2025-04-19 09:47:45.951 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:47:45.952 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - 200 null application/json; charset=utf-8 19.1298ms
2025-04-19 09:47:53.472 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=true - null null
2025-04-19 09:47:53.474 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:47:53.475 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:47:53.477 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:47:53.478 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:47:53.480 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:47:53.482 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:47:53.482 -07:00 [INF] Orders recieved!
2025-04-19 09:47:53.483 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:47:53.483 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.7181ms
2025-04-19 09:47:53.484 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:47:53.485 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=true - 200 null application/json; charset=utf-8 12.8706ms
2025-04-19 09:48:10.755 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - null null
2025-04-19 09:48:10.757 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:48:10.758 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:48:10.759 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:48:10.760 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:48:10.761 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:48:10.763 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:48:10.764 -07:00 [INF] Orders recieved!
2025-04-19 09:48:10.764 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:48:10.765 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.0787ms
2025-04-19 09:48:10.766 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:48:10.767 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - 200 null application/json; charset=utf-8 11.9023ms
2025-04-19 09:48:15.152 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - null null
2025-04-19 09:48:15.154 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:48:15.154 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:48:15.156 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:48:15.156 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:48:15.158 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:48:15.160 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:48:15.160 -07:00 [INF] Orders recieved!
2025-04-19 09:48:15.161 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:48:15.162 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 5.7892ms
2025-04-19 09:48:15.162 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:48:15.163 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=false - 200 null application/json; charset=utf-8 11.4269ms
2025-04-19 09:49:35.328 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:49:35.446 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 09:49:35.447 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 09:49:35.506 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:49:35.511 -07:00 [INF] Hosting environment: Development
2025-04-19 09:49:35.512 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 09:49:35.995 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 09:49:36.087 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 95.8534ms
2025-04-19 09:49:36.091 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:49:36.095 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.7239ms
2025-04-19 09:49:36.113 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 09:49:36.135 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.13ms
2025-04-19 09:49:36.162 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 09:49:36.174 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.5659ms
2025-04-19 09:49:53.593 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=desc - null null
2025-04-19 09:49:53.652 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:49:53.666 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:49:53.739 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:49:53.743 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:49:54.199 -07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:49:54.233 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:49:54.233 -07:00 [INF] Orders recieved!
2025-04-19 09:49:54.238 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:49:54.246 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 577.6008ms
2025-04-19 09:49:54.247 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:49:54.250 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Data=desc - 200 null application/json; charset=utf-8 657.6434ms
2025-04-19 09:49:59.317 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 09:49:59.321 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:49:59.322 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:49:59.325 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:49:59.326 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:49:59.340 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:49:59.342 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:49:59.342 -07:00 [INF] Orders recieved!
2025-04-19 09:49:59.343 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:49:59.344 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 20.6955ms
2025-04-19 09:49:59.345 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:49:59.346 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 29.6313ms
2025-04-19 09:50:00.837 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 09:50:00.840 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:50:00.841 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:50:00.845 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:50:00.845 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:50:00.875 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:50:00.877 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:50:00.878 -07:00 [INF] Orders recieved!
2025-04-19 09:50:00.878 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:50:00.879 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 36.7605ms
2025-04-19 09:50:00.880 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:50:00.881 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 44.6243ms
2025-04-19 09:53:17.772 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:53:17.884 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 09:53:17.885 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 09:53:17.929 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:53:17.930 -07:00 [INF] Hosting environment: Development
2025-04-19 09:53:17.930 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 09:53:18.162 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 09:53:18.244 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 85.7058ms
2025-04-19 09:53:18.247 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:53:18.251 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.702ms
2025-04-19 09:53:18.268 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 09:53:18.291 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.1545ms
2025-04-19 09:53:18.312 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 09:53:18.320 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.3934ms
2025-04-19 09:53:29.077 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 53
2025-04-19 09:53:29.104 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 09:53:29.116 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 09:53:29.191 -07:00 [INF] Signing in chema
2025-04-19 09:53:29.194 -07:00 [INF] Trying to sign in chema
2025-04-19 09:53:29.649 -07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 09:53:29.859 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 09:53:29.866 -07:00 [INF] User chema signed in successfuly
2025-04-19 09:53:29.866 -07:00 [INF] User chema signed in!
2025-04-19 09:53:29.871 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 09:53:29.876 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 757.239ms
2025-04-19 09:53:29.877 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 09:53:29.881 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 804.1897ms
2025-04-19 09:53:42.156 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=desc - null null
2025-04-19 09:53:42.178 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:53:42.182 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:53:42.189 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:53:42.191 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:53:42.205 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:53:42.213 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:53:42.214 -07:00 [INF] Orders recieved!
2025-04-19 09:53:42.214 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:53:42.219 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 34.5553ms
2025-04-19 09:53:42.220 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:53:42.220 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=desc - 200 null application/json; charset=utf-8 64.6047ms
2025-04-19 09:53:48.444 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=asc - null null
2025-04-19 09:53:48.450 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:53:48.451 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:53:48.454 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:53:48.454 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:53:48.484 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:53:48.485 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:53:48.486 -07:00 [INF] Orders recieved!
2025-04-19 09:53:48.486 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:53:48.487 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 34.9089ms
2025-04-19 09:53:48.488 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:53:48.489 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=asc - 200 null application/json; charset=utf-8 45.6227ms
2025-04-19 09:55:44.800 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 09:55:44.917 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 09:55:44.918 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 09:55:44.965 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 09:55:44.966 -07:00 [INF] Hosting environment: Development
2025-04-19 09:55:44.967 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 09:55:45.256 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 09:55:45.341 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 89.3025ms
2025-04-19 09:55:45.344 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 09:55:45.350 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.867ms
2025-04-19 09:55:45.366 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 09:55:45.388 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.8828ms
2025-04-19 09:55:45.414 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 09:55:45.423 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.2608ms
2025-04-19 09:56:05.746 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=true - null null
2025-04-19 09:56:05.797 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:56:05.810 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:56:05.879 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:56:05.883 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:56:06.333 -07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:56:06.369 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:56:06.370 -07:00 [INF] Orders recieved!
2025-04-19 09:56:06.374 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:06.382 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 569.4296ms
2025-04-19 09:56:06.384 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:56:06.388 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=true - 200 null application/json; charset=utf-8 641.3533ms
2025-04-19 09:56:10.667 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=false - null null
2025-04-19 09:56:10.672 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:56:10.673 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:56:10.675 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:56:10.676 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:56:10.691 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:56:10.692 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:56:10.693 -07:00 [INF] Orders recieved!
2025-04-19 09:56:10.694 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:10.695 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 20.7051ms
2025-04-19 09:56:10.696 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:56:10.697 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=false - 200 null application/json; charset=utf-8 29.6969ms
2025-04-19 09:56:11.689 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=false - null null
2025-04-19 09:56:11.693 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:56:11.694 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 09:56:11.697 -07:00 [INF] Getting all user's 1 orders
2025-04-19 09:56:11.697 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 09:56:11.726 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 09:56:11.727 -07:00 [INF] Recived all orders for user 1
2025-04-19 09:56:11.728 -07:00 [INF] Orders recieved!
2025-04-19 09:56:11.728 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 09:56:11.729 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 34.6756ms
2025-04-19 09:56:11.730 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 09:56:11.731 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=false - 200 null application/json; charset=utf-8 43.1575ms
2025-04-19 10:13:05.017 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:13:05.129 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 10:13:05.130 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 10:13:05.182 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:13:05.183 -07:00 [INF] Hosting environment: Development
2025-04-19 10:13:05.184 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 10:13:05.395 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 10:13:05.490 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 99.8923ms
2025-04-19 10:13:05.494 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:13:05.497 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.0528ms
2025-04-19 10:13:05.517 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 10:13:05.538 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.8204ms
2025-04-19 10:13:05.560 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 10:13:05.568 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.6902ms
2025-04-19 10:13:18.484 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 53
2025-04-19 10:13:18.513 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 10:13:18.526 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 10:13:18.608 -07:00 [INF] Signing in chema
2025-04-19 10:13:18.612 -07:00 [INF] Trying to sign in chema
2025-04-19 10:13:19.085 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 10:13:19.298 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 10:13:19.306 -07:00 [INF] User chema signed in successfuly
2025-04-19 10:13:19.306 -07:00 [INF] User chema signed in!
2025-04-19 10:13:19.311 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 10:13:19.316 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 787.6779ms
2025-04-19 10:13:19.318 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 10:13:19.322 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 837.0979ms
2025-04-19 10:13:34.543 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=true - null null
2025-04-19 10:13:34.568 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:13:34.573 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:13:34.581 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:13:34.582 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:13:34.599 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt] DESC, [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:13:34.607 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:13:34.608 -07:00 [INF] Orders recieved!
2025-04-19 10:13:34.608 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:13:34.613 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 38.2864ms
2025-04-19 10:13:34.614 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:13:34.615 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=true - 200 null application/json; charset=utf-8 71.855ms
2025-04-19 10:13:40.841 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=false - null null
2025-04-19 10:13:40.846 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:13:40.847 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:13:40.849 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:13:40.849 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:13:40.880 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:13:40.882 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:13:40.882 -07:00 [INF] Orders recieved!
2025-04-19 10:13:40.883 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:13:40.884 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 35.7886ms
2025-04-19 10:13:40.885 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:13:40.885 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=false - 200 null application/json; charset=utf-8 44.168ms
2025-04-19 10:13:50.598 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=SecondOrder - null null
2025-04-19 10:13:50.601 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:13:50.602 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:13:50.605 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:13:50.606 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:13:50.609 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:13:50.611 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:13:50.611 -07:00 [INF] Orders recieved!
2025-04-19 10:13:50.612 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:13:50.613 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 8.9735ms
2025-04-19 10:13:50.614 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:13:50.614 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=SecondOrder - 200 null application/json; charset=utf-8 16.3252ms
2025-04-19 10:15:41.854 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:15:41.978 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 10:15:41.979 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 10:15:42.033 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:15:42.034 -07:00 [INF] Hosting environment: Development
2025-04-19 10:15:42.035 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 10:15:42.302 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 10:15:42.394 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 95.8022ms
2025-04-19 10:15:42.398 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:15:42.403 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.1839ms
2025-04-19 10:15:42.419 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 10:15:42.441 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.358ms
2025-04-19 10:15:42.470 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 10:15:42.480 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.1701ms
2025-04-19 10:15:48.112 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=SecondOrder - null null
2025-04-19 10:15:48.168 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:15:48.183 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:15:48.260 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:15:48.264 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:15:48.753 -07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__queryParams_Search_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0 AND [o].[Title] = @__queryParams_Search_1
ORDER BY [o].[CreatedAt], [o].[Id]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-19 10:15:48.794 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:15:48.795 -07:00 [INF] Orders recieved!
2025-04-19 10:15:48.800 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:15:48.809 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 623.3123ms
2025-04-19 10:15:48.810 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:15:48.813 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=SecondOrder - 200 null application/json; charset=utf-8 701.9755ms
2025-04-19 10:17:16.158 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=desc - null null
2025-04-19 10:17:16.163 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:16.165 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:16.168 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:16.169 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:16.180 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__queryParams_Search_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0 AND [o].[Title] = @__queryParams_Search_1
ORDER BY [o].[CreatedAt], [o].[Id]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-19 10:17:16.182 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:16.182 -07:00 [INF] Orders recieved!
2025-04-19 10:17:16.183 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:16.184 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 17.1773ms
2025-04-19 10:17:16.185 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:16.186 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=desc - 200 null application/json; charset=utf-8 28.5752ms
2025-04-19 10:17:22.353 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=asc - null null
2025-04-19 10:17:22.358 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:22.359 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:22.363 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:22.363 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:22.391 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__queryParams_Search_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0 AND [o].[Title] = @__queryParams_Search_1
ORDER BY [o].[CreatedAt], [o].[Id]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-04-19 10:17:22.392 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:22.393 -07:00 [INF] Orders recieved!
2025-04-19 10:17:22.394 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:22.394 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 34.121ms
2025-04-19 10:17:22.396 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:22.397 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Search=asc - 200 null application/json; charset=utf-8 44.2399ms
2025-04-19 10:17:28.931 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 10:17:28.934 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:28.935 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:28.937 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:28.937 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:28.944 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:17:28.946 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:28.946 -07:00 [INF] Orders recieved!
2025-04-19 10:17:28.947 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:28.947 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 11.0111ms
2025-04-19 10:17:28.950 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:28.951 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 20.6732ms
2025-04-19 10:17:32.532 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=asc - null null
2025-04-19 10:17:32.535 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:32.536 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:32.537 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:32.538 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:32.542 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:17:32.544 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:32.545 -07:00 [INF] Orders recieved!
2025-04-19 10:17:32.545 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:32.546 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 8.9871ms
2025-04-19 10:17:32.547 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:32.548 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=asc - 200 null application/json; charset=utf-8 15.729ms
2025-04-19 10:17:34.909 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 10:17:34.911 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:34.912 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:34.914 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:34.914 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:34.916 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:17:34.918 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:34.918 -07:00 [INF] Orders recieved!
2025-04-19 10:17:34.919 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:34.920 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.2598ms
2025-04-19 10:17:34.921 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:34.921 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 12.3418ms
2025-04-19 10:17:45.930 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 10:17:45.932 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:45.933 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:45.934 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:45.935 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:45.937 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:17:45.939 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:45.939 -07:00 [INF] Orders recieved!
2025-04-19 10:17:45.939 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:45.940 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.2886ms
2025-04-19 10:17:45.941 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:45.942 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 12.2544ms
2025-04-19 10:17:48.674 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 10:17:48.676 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:48.677 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:17:48.678 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:17:48.679 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:17:48.681 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt], [o].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:17:48.683 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:17:48.683 -07:00 [INF] Orders recieved!
2025-04-19 10:17:48.683 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:17:48.684 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.3027ms
2025-04-19 10:17:48.685 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:17:48.686 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 12.2041ms
2025-04-19 10:56:28.062 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 10:56:28.176 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 10:56:28.177 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 10:56:28.289 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 10:56:28.290 -07:00 [INF] Hosting environment: Development
2025-04-19 10:56:28.291 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 10:56:28.457 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 10:56:28.541 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 88.0739ms
2025-04-19 10:56:28.547 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 10:56:28.552 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 6.3486ms
2025-04-19 10:56:28.566 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 10:56:28.591 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.6406ms
2025-04-19 10:56:28.616 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 10:56:28.625 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.0749ms
2025-04-19 10:56:37.530 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 53
2025-04-19 10:56:37.558 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 10:56:37.571 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 10:56:37.648 -07:00 [INF] Signing in chema
2025-04-19 10:56:37.652 -07:00 [INF] Trying to sign in chema
2025-04-19 10:56:38.094 -07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 10:56:38.299 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 10:56:38.306 -07:00 [INF] User chema signed in successfuly
2025-04-19 10:56:38.307 -07:00 [INF] User chema signed in!
2025-04-19 10:56:38.311 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 10:56:38.316 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 742.8198ms
2025-04-19 10:56:38.318 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 10:56:38.321 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 790.7859ms
2025-04-19 10:56:59.954 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 10:56:59.978 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:56:59.982 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:56:59.988 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:56:59.990 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:57:00.006 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:57:00.014 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:57:00.014 -07:00 [INF] Orders recieved!
2025-04-19 10:57:00.015 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:57:00.020 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 36.7284ms
2025-04-19 10:57:00.021 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:57:00.022 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 68.2042ms
2025-04-19 10:57:04.265 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=asc - null null
2025-04-19 10:57:04.270 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:57:04.271 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:57:04.273 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:57:04.273 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:57:04.302 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:57:04.305 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:57:04.305 -07:00 [INF] Orders recieved!
2025-04-19 10:57:04.306 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:57:04.307 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 34.8981ms
2025-04-19 10:57:04.307 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:57:04.308 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=asc - 200 null application/json; charset=utf-8 43.7711ms
2025-04-19 10:57:08.103 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 10:57:08.106 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:57:08.106 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 10:57:08.109 -07:00 [INF] Getting all user's 1 orders
2025-04-19 10:57:08.109 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 10:57:08.111 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 10:57:08.113 -07:00 [INF] Recived all orders for user 1
2025-04-19 10:57:08.113 -07:00 [INF] Orders recieved!
2025-04-19 10:57:08.114 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 10:57:08.115 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 7.4966ms
2025-04-19 10:57:08.116 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 10:57:08.117 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 14.0207ms
2025-04-19 11:02:02.388 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 126
2025-04-19 11:02:02.392 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 11:02:02.394 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:02:02.400 -07:00 [INF] Creating order
2025-04-19 11:02:02.401 -07:00 [INF] Adding order to database!
2025-04-19 11:02:02.423 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 11:02:02.435 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 11:02:02.437 -07:00 [INF] Order added to database successfuly with id 5
2025-04-19 11:02:02.437 -07:00 [INF] Order created
2025-04-19 11:02:02.438 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 11:02:02.439 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 44.3725ms
2025-04-19 11:02:02.440 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 11:02:02.441 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 53.3396ms
2025-04-19 11:02:06.141 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 11:02:06.143 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:02:06.144 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:02:06.145 -07:00 [INF] Getting all user's 1 orders
2025-04-19 11:02:06.146 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 11:02:06.148 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 11:02:06.150 -07:00 [INF] Recived all orders for user 1
2025-04-19 11:02:06.150 -07:00 [INF] Orders recieved!
2025-04-19 11:02:06.151 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:02:06.152 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.3683ms
2025-04-19 11:02:06.152 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:02:06.153 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 12.3409ms
2025-04-19 11:02:12.866 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 11:02:12.868 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:02:12.869 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:02:12.870 -07:00 [INF] Getting all user's 1 orders
2025-04-19 11:02:12.871 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 11:02:12.873 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 11:02:12.875 -07:00 [INF] Recived all orders for user 1
2025-04-19 11:02:12.875 -07:00 [INF] Orders recieved!
2025-04-19 11:02:12.875 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:02:12.876 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.3181ms
2025-04-19 11:02:12.877 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:02:12.878 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 12.5212ms
2025-04-19 11:02:15.452 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 11:02:15.454 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:02:15.455 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:02:15.456 -07:00 [INF] Getting all user's 1 orders
2025-04-19 11:02:15.457 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 11:02:15.458 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 11:02:15.460 -07:00 [INF] Recived all orders for user 1
2025-04-19 11:02:15.461 -07:00 [INF] Orders recieved!
2025-04-19 11:02:15.461 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:02:15.462 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 6.0474ms
2025-04-19 11:02:15.463 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:02:15.464 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 12.1847ms
2025-04-19 11:06:55.053 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 11:06:55.169 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 11:06:55.169 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 11:06:55.218 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 11:06:55.219 -07:00 [INF] Hosting environment: Development
2025-04-19 11:06:55.219 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 11:06:55.402 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 11:06:55.485 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 88.7276ms
2025-04-19 11:06:55.488 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 11:06:55.492 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.0576ms
2025-04-19 11:06:55.507 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 11:06:55.529 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.9653ms
2025-04-19 11:06:55.554 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 11:06:55.564 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.1569ms
2025-04-19 11:06:59.941 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - null null
2025-04-19 11:06:59.995 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:07:00.010 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:07:00.081 -07:00 [INF] Getting all user's 1 orders
2025-04-19 11:07:00.085 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 11:07:00.535 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 11:07:00.569 -07:00 [INF] Recived all orders for user 1
2025-04-19 11:07:00.570 -07:00 [INF] Orders recieved!
2025-04-19 11:07:00.575 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:07:00.582 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 569.0981ms
2025-04-19 11:07:00.583 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:07:00.587 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?Sort=desc - 200 null application/json; charset=utf-8 646.1847ms
2025-04-19 11:07:05.184 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 11:07:05.188 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:07:05.189 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:07:05.192 -07:00 [INF] Getting all user's 1 orders
2025-04-19 11:07:05.193 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 11:07:05.209 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 11:07:05.210 -07:00 [INF] Recived all orders for user 1
2025-04-19 11:07:05.211 -07:00 [INF] Orders recieved!
2025-04-19 11:07:05.212 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:07:05.213 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 21.98ms
2025-04-19 11:07:05.214 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:07:05.215 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 30.7826ms
2025-04-19 11:07:09.256 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=true - null null
2025-04-19 11:07:09.260 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:07:09.261 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 11:07:09.265 -07:00 [INF] Getting all user's 1 orders
2025-04-19 11:07:09.266 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 11:07:09.297 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[CreatedAt] DESC, [o].[Id] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 11:07:09.299 -07:00 [INF] Recived all orders for user 1
2025-04-19 11:07:09.299 -07:00 [INF] Orders recieved!
2025-04-19 11:07:09.300 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 11:07:09.301 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 37.7183ms
2025-04-19 11:07:09.302 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 11:07:09.303 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all?SortByDate=true - 200 null application/json; charset=utf-8 47.4167ms
2025-04-19 17:36:19.706 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:36:19.829 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 17:36:19.829 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 17:36:19.877 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:36:19.878 -07:00 [INF] Hosting environment: Development
2025-04-19 17:36:19.879 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 17:36:20.224 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 17:36:20.328 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 107.3907ms
2025-04-19 17:36:20.331 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:36:20.335 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.198ms
2025-04-19 17:36:20.352 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 17:36:20.408 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.2931ms
2025-04-19 17:36:20.429 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 17:36:20.439 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.1441ms
2025-04-19 17:36:31.662 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 53
2025-04-19 17:36:31.703 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 17:36:31.721 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 17:36:31.859 -07:00 [INF] Signing in chema
2025-04-19 17:36:31.863 -07:00 [INF] Trying to sign in chema
2025-04-19 17:36:32.435 -07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 17:36:32.646 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 17:36:32.653 -07:00 [INF] User chema signed in successfuly
2025-04-19 17:36:32.654 -07:00 [INF] User chema signed in!
2025-04-19 17:36:32.659 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 17:36:32.664 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 940.224ms
2025-04-19 17:36:32.665 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 17:36:32.669 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 1006.5227ms
2025-04-19 17:36:50.959 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 17:36:50.984 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 17:36:50.988 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 17:36:50.991 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 1.7129ms
2025-04-19 17:36:50.993 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 17:36:50.995 -07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Customer_And_Orders.BAL.Services.Interfaces.IOrderService' while attempting to activate 'Customer_And_Orders.API.Controllers.OrderController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method101(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-04-19 17:36:51.018 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 500 null text/plain; charset=utf-8 58.3484ms
2025-04-19 17:38:36.326 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 17:38:36.443 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 17:38:36.444 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 17:38:36.542 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 17:38:36.542 -07:00 [INF] Hosting environment: Development
2025-04-19 17:38:36.543 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 17:38:36.860 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 17:38:36.950 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 94.6346ms
2025-04-19 17:38:36.953 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 17:38:36.957 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.129ms
2025-04-19 17:38:36.971 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 17:38:36.995 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.3801ms
2025-04-19 17:38:37.017 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 17:38:37.029 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.6459ms
2025-04-19 17:38:41.830 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 17:38:41.883 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 17:38:41.897 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 17:38:41.969 -07:00 [INF] Getting all user's 1 orders
2025-04-19 17:38:41.973 -07:00 [INF] Getting all user's: 1 orders from database
2025-04-19 17:38:42.445 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 17:38:42.480 -07:00 [INF] Recived all orders for user 1
2025-04-19 17:38:42.481 -07:00 [INF] Orders recieved!
2025-04-19 17:38:42.485 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 17:38:42.493 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 593.2878ms
2025-04-19 17:38:42.494 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 17:38:42.498 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 668.7354ms
2025-04-19 18:55:13.380 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 18:55:13.496 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 18:55:13.496 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 18:55:13.547 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 18:55:13.548 -07:00 [INF] Hosting environment: Development
2025-04-19 18:55:13.548 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 18:55:59.433 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 18:55:59.541 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 18:55:59.542 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 18:55:59.596 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 18:55:59.598 -07:00 [INF] Hosting environment: Development
2025-04-19 18:55:59.599 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 18:55:59.851 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 18:55:59.949 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 101.6497ms
2025-04-19 18:55:59.952 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 18:55:59.956 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.3669ms
2025-04-19 18:55:59.973 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 18:56:00.036 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.1135ms
2025-04-19 18:56:00.057 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 18:56:00.069 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.4247ms
2025-04-19 18:56:11.236 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 18:56:11.265 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 18:56:11.277 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 18:56:11.356 -07:00 [INF] Signing in admin
2025-04-19 18:56:11.360 -07:00 [INF] Trying to sign in admin
2025-04-19 18:56:11.809 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 18:56:11.821 -07:00 [WRN] Username or password is incorrect!
2025-04-19 18:56:11.821 -07:00 [INF] User admin signed in!
2025-04-19 18:56:11.825 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 18:56:11.831 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 550.2911ms
2025-04-19 18:56:11.832 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 18:56:11.835 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 599.059ms
2025-04-19 18:56:28.126 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-up - application/json 89
2025-04-19 18:56:28.130 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API)'
2025-04-19 18:56:28.135 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Customer_And_Orders.BAL.Models.CreateUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 18:56:28.140 -07:00 [INF] Trying to sign up user: admin
2025-04-19 18:56:28.267 -07:00 [INF] Addint admin to database
2025-04-19 18:56:28.288 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__user_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-19 18:56:28.362 -07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [PasswordHash], [RefreshExpiry], [RefreshToken], [Role], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-19 18:56:28.374 -07:00 [INF] User admin signed up successfuly
2025-04-19 18:56:28.375 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateUserDTO'.
2025-04-19 18:56:28.376 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API) in 239.8677ms
2025-04-19 18:56:28.377 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API)'
2025-04-19 18:56:28.379 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-up - 200 null application/json; charset=utf-8 252.9537ms
2025-04-19 18:56:38.769 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 18:56:38.772 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 18:56:38.773 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 18:56:38.777 -07:00 [INF] Signing in admin
2025-04-19 18:56:38.777 -07:00 [INF] Trying to sign in admin
2025-04-19 18:56:38.805 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 18:56:38.948 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 18:56:38.951 -07:00 [INF] User admin signed in successfuly
2025-04-19 18:56:38.951 -07:00 [INF] User admin signed in!
2025-04-19 18:56:38.952 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 18:56:38.953 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 178.6088ms
2025-04-19 18:56:38.954 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 18:56:38.955 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 186.218ms
2025-04-19 18:56:49.755 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 18:56:49.777 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-19 18:56:49.779 -07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-19 18:56:49.780 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 403 0 null 25.0258ms
2025-04-19 18:57:59.826 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 18:57:59.832 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-19 18:57:59.833 -07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-19 18:57:59.833 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 403 0 null 7.0271ms
2025-04-19 18:58:04.501 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 18:58:04.514 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 13.2545ms
2025-04-19 18:58:04.515 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 18:58:04.516 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 18:58:04.520 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.1478ms
2025-04-19 18:58:04.522 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.2725ms
2025-04-19 18:58:04.566 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 18:58:04.573 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.5101ms
2025-04-19 18:58:13.100 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 18:58:13.103 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-19 18:58:13.103 -07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-19 18:58:13.104 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 403 0 null 4.0518ms
2025-04-19 18:58:46.836 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 18:58:46.841 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-19 18:58:46.841 -07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-19 18:58:46.842 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 403 0 null 6.263ms
2025-04-19 18:58:51.977 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 18:58:52.080 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 18:58:52.081 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 18:58:52.135 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 18:58:52.136 -07:00 [INF] Hosting environment: Development
2025-04-19 18:58:52.137 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 18:58:52.465 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 18:58:52.545 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 83.875ms
2025-04-19 18:58:52.549 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 18:58:52.553 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.4838ms
2025-04-19 18:58:52.567 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 18:58:52.587 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8725ms
2025-04-19 18:58:52.614 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 18:58:52.624 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.0493ms
2025-04-19 18:59:03.007 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 18:59:03.033 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 18:59:03.046 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 18:59:03.120 -07:00 [INF] Signing in admin
2025-04-19 18:59:03.124 -07:00 [INF] Trying to sign in admin
2025-04-19 18:59:03.566 -07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 18:59:03.767 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 18:59:03.774 -07:00 [INF] User admin signed in successfuly
2025-04-19 18:59:03.775 -07:00 [INF] User admin signed in!
2025-04-19 18:59:03.779 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 18:59:03.785 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 736.7886ms
2025-04-19 18:59:03.786 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 18:59:03.790 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 782.8111ms
2025-04-19 18:59:17.135 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 18:59:17.158 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 18:59:17.161 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 18:59:17.164 -07:00 [INF] Request to get clients
2025-04-19 18:59:17.165 -07:00 [INF] Getting all clients from database
2025-04-19 18:59:17.180 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 18:59:17.182 -07:00 [INF] Got clients from database
2025-04-19 18:59:17.183 -07:00 [INF] Clients recived successfuly
2025-04-19 18:59:17.184 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:59:17.189 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 25.8078ms
2025-04-19 18:59:17.190 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 18:59:17.191 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 56.259ms
2025-04-19 18:59:34.832 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-up - application/json 72
2025-04-19 18:59:34.836 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API)'
2025-04-19 18:59:34.839 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Customer_And_Orders.BAL.Models.CreateUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 18:59:34.844 -07:00 [INF] Trying to sign up user: client
2025-04-19 18:59:34.966 -07:00 [INF] Addint client to database
2025-04-19 18:59:35.002 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__user_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-19 18:59:35.021 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [PasswordHash], [RefreshExpiry], [RefreshToken], [Role], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-19 18:59:35.030 -07:00 [INF] User client signed up successfuly
2025-04-19 18:59:35.030 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateUserDTO'.
2025-04-19 18:59:35.032 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API) in 191.3182ms
2025-04-19 18:59:35.033 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API)'
2025-04-19 18:59:35.033 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-up - 200 null application/json; charset=utf-8 201.4488ms
2025-04-19 18:59:39.082 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 18:59:39.084 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 18:59:39.085 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 18:59:39.087 -07:00 [INF] Request to get clients
2025-04-19 18:59:39.088 -07:00 [INF] Getting all clients from database
2025-04-19 18:59:39.091 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 18:59:39.094 -07:00 [INF] Got clients from database
2025-04-19 18:59:39.095 -07:00 [INF] Clients recived successfuly
2025-04-19 18:59:39.095 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 18:59:39.097 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 9.9538ms
2025-04-19 18:59:39.098 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 18:59:39.099 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 17.5198ms
2025-04-19 19:00:02.704 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:00:02.706 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:02.709 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:00:02.714 -07:00 [INF] Request to get client's 0 orders
2025-04-19 19:00:02.715 -07:00 [INF] Trying to get all client's 0 orders
2025-04-19 19:00:02.720 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:00:02.722 -07:00 [WRN] No orders found for client 0!
2025-04-19 19:00:02.722 -07:00 [INF] Orders for client 0 recived!
2025-04-19 19:00:02.723 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:00:02.726 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 14.3172ms
2025-04-19 19:00:02.727 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:02.728 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 24.3461ms
2025-04-19 19:00:05.745 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:00:05.756 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 10.7747ms
2025-04-19 19:00:05.759 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:00:05.759 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:00:05.764 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.0594ms
2025-04-19 19:00:05.771 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3079ms
2025-04-19 19:00:05.809 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:00:05.816 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.4372ms
2025-04-19 19:00:20.675 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 19:00:20.677 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:00:20.679 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 19:00:20.682 -07:00 [INF] Signing in admin
2025-04-19 19:00:20.682 -07:00 [INF] Trying to sign in admin
2025-04-19 19:00:20.684 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 19:00:20.809 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 19:00:20.812 -07:00 [INF] User admin signed in successfuly
2025-04-19 19:00:20.812 -07:00 [INF] User admin signed in!
2025-04-19 19:00:20.813 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 19:00:20.815 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 134.7364ms
2025-04-19 19:00:20.816 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:00:20.817 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 142.52ms
2025-04-19 19:00:29.250 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:00:29.252 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:29.256 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:00:29.258 -07:00 [INF] Request to get client's 1 orders
2025-04-19 19:00:29.259 -07:00 [INF] Trying to get all client's 1 orders
2025-04-19 19:00:29.260 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:00:29.268 -07:00 [INF] Got orders for client 1 from database
2025-04-19 19:00:29.268 -07:00 [INF] Orders for client 1 recived!
2025-04-19 19:00:29.269 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:00:29.272 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 14.7231ms
2025-04-19 19:00:29.273 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:29.274 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 23.7035ms
2025-04-19 19:00:34.015 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/2 - null null
2025-04-19 19:00:34.017 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:34.019 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:00:34.021 -07:00 [INF] Request to get client's 2 orders
2025-04-19 19:00:34.021 -07:00 [INF] Trying to get all client's 2 orders
2025-04-19 19:00:34.024 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:00:34.026 -07:00 [WRN] No orders found for client 2!
2025-04-19 19:00:34.026 -07:00 [INF] Orders for client 2 recived!
2025-04-19 19:00:34.027 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:00:34.028 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 7.0082ms
2025-04-19 19:00:34.029 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:34.030 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/2 - 200 null application/json; charset=utf-8 15.2432ms
2025-04-19 19:00:36.241 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/3 - null null
2025-04-19 19:00:36.243 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:36.244 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:00:36.246 -07:00 [INF] Request to get client's 3 orders
2025-04-19 19:00:36.247 -07:00 [INF] Trying to get all client's 3 orders
2025-04-19 19:00:36.249 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:00:36.250 -07:00 [WRN] No orders found for client 3!
2025-04-19 19:00:36.251 -07:00 [INF] Orders for client 3 recived!
2025-04-19 19:00:36.252 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:00:36.253 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 6.8829ms
2025-04-19 19:00:36.254 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:36.255 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/3 - 200 null application/json; charset=utf-8 13.9151ms
2025-04-19 19:00:37.189 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:00:37.191 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:37.192 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:00:37.194 -07:00 [INF] Request to get client's 1 orders
2025-04-19 19:00:37.194 -07:00 [INF] Trying to get all client's 1 orders
2025-04-19 19:00:37.196 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:00:37.198 -07:00 [INF] Got orders for client 1 from database
2025-04-19 19:00:37.199 -07:00 [INF] Orders for client 1 recived!
2025-04-19 19:00:37.199 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:00:37.200 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 6.7086ms
2025-04-19 19:00:37.201 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:00:37.202 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 13.0417ms
2025-04-19 19:11:20.342 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 19:11:20.476 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 19:11:20.477 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 19:11:20.525 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 19:11:20.526 -07:00 [INF] Hosting environment: Development
2025-04-19 19:11:20.527 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 19:11:20.929 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:11:21.015 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 90.1581ms
2025-04-19 19:11:21.018 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:11:21.022 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.4831ms
2025-04-19 19:11:21.037 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:11:21.058 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.2606ms
2025-04-19 19:11:21.080 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:11:21.088 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.2642ms
2025-04-19 19:11:35.698 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:11:35.704 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 6.1169ms
2025-04-19 19:11:35.711 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:11:35.711 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:11:35.713 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 2.2908ms
2025-04-19 19:11:35.723 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.4174ms
2025-04-19 19:11:35.742 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:11:35.747 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.3139ms
2025-04-19 19:11:39.361 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 19:11:39.484 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 19:11:39.485 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 19:11:39.532 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 19:11:39.532 -07:00 [INF] Hosting environment: Development
2025-04-19 19:11:39.533 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 19:11:39.758 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:11:39.838 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 84.2191ms
2025-04-19 19:11:39.841 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:11:39.846 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.0567ms
2025-04-19 19:11:39.862 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:11:39.888 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0375ms
2025-04-19 19:11:39.909 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:11:39.917 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5826ms
2025-04-19 19:11:54.489 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 19:11:54.519 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:11:54.532 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 19:11:54.613 -07:00 [INF] Signing in admin
2025-04-19 19:11:54.618 -07:00 [INF] Trying to sign in admin
2025-04-19 19:11:55.066 -07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 19:11:55.269 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 19:11:55.276 -07:00 [INF] User admin signed in successfuly
2025-04-19 19:11:55.277 -07:00 [INF] User admin signed in!
2025-04-19 19:11:55.281 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 19:11:55.287 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 751.7158ms
2025-04-19 19:11:55.288 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:11:55.291 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 802.1328ms
2025-04-19 19:12:19.414 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 136
2025-04-19 19:12:19.438 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 19:12:19.441 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 19:12:19.449 -07:00 [INF] Creating order
2025-04-19 19:12:19.450 -07:00 [INF] Adding order to database!
2025-04-19 19:12:19.482 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 19:12:19.496 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 19:12:19.499 -07:00 [INF] Order added to database successfuly with id 6
2025-04-19 19:12:19.499 -07:00 [INF] Order created
2025-04-19 19:12:19.500 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 19:12:19.502 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 59.265ms
2025-04-19 19:12:19.503 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 19:12:19.504 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 90.4471ms
2025-04-19 19:12:29.562 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 19:12:29.566 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 19:12:29.570 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 19:12:29.575 -07:00 [INF] Getting all user's 2 orders
2025-04-19 19:12:29.577 -07:00 [INF] Getting all user's: 2 orders from database
2025-04-19 19:12:29.608 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 19:12:29.611 -07:00 [INF] Recived all orders for user 2
2025-04-19 19:12:29.611 -07:00 [INF] Orders recieved!
2025-04-19 19:12:29.612 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:12:29.614 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 42.93ms
2025-04-19 19:12:29.615 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 19:12:29.616 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 54.9303ms
2025-04-19 19:12:34.310 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-by-id?id=6 - null null
2025-04-19 19:12:34.313 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetOrderByIdAsync (Customer-And-Orders.API)'
2025-04-19 19:12:34.318 -07:00 [INF] Route matched with {action = "GetOrderById", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrderByIdAsync(Int32) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 19:12:34.327 -07:00 [INF] Trying to get order with id 6
2025-04-19 19:12:34.328 -07:00 [INF] Looking for order with id 6 in database
2025-04-19 19:12:34.332 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[Id] = @__id_0
2025-04-19 19:12:34.334 -07:00 [INF] Recieved order with Id: 6
2025-04-19 19:12:34.335 -07:00 [INF] 
2025-04-19 19:12:34.336 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.Order'.
2025-04-19 19:12:34.337 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetOrderByIdAsync (Customer-And-Orders.API) in 17.3052ms
2025-04-19 19:12:34.339 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetOrderByIdAsync (Customer-And-Orders.API)'
2025-04-19 19:12:34.340 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-by-id?id=6 - 200 null application/json; charset=utf-8 29.4177ms
2025-04-19 19:12:55.314 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/api/Order/update-order - application/json 97
2025-04-19 19:12:55.316 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API)'
2025-04-19 19:12:55.318 -07:00 [INF] Route matched with {action = "UpdateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderAsync(Customer_And_Orders.BAL.Models.UpdateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 19:12:55.324 -07:00 [INF] Updating order
2025-04-19 19:12:55.325 -07:00 [INF] Updating order 6
2025-04-19 19:12:55.331 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Order] SET [Description] = @p0, [Status] = @p1, [Title] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-04-19 19:12:55.333 -07:00 [INF] Order with Id 6 updated!
2025-04-19 19:12:55.334 -07:00 [INF] Order 6 updated!
2025-04-19 19:12:55.334 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.Order'.
2025-04-19 19:12:55.336 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API) in 15.4712ms
2025-04-19 19:12:55.337 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API)'
2025-04-19 19:12:55.338 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/api/Order/update-order - 200 null application/json; charset=utf-8 24.4493ms
2025-04-19 19:13:22.493 -07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7200/api/Order/delete-order - application/json 1
2025-04-19 19:13:22.499 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.DeleteOrderAsync (Customer-And-Orders.API)'
2025-04-19 19:13:22.502 -07:00 [INF] Route matched with {action = "DeleteOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteOrderAsync(Int32) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 19:13:22.505 -07:00 [INF] Deleting order with id 6
2025-04-19 19:13:22.506 -07:00 [INF] Deleting order with ID 6 from database
2025-04-19 19:13:22.510 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[Id] = @__id_0
2025-04-19 19:13:22.516 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Order]
OUTPUT 1
WHERE [Id] = @p0;
2025-04-19 19:13:22.519 -07:00 [INF] Order deleted from database!
2025-04-19 19:13:22.519 -07:00 [INF] Order deleted!
2025-04-19 19:13:22.520 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-04-19 19:13:22.522 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.DeleteOrderAsync (Customer-And-Orders.API) in 19.1832ms
2025-04-19 19:13:22.524 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.DeleteOrderAsync (Customer-And-Orders.API)'
2025-04-19 19:13:22.525 -07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7200/api/Order/delete-order - 200 null application/json; charset=utf-8 31.5347ms
2025-04-19 19:13:30.803 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 19:13:30.805 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 19:13:30.806 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 19:13:30.808 -07:00 [INF] Getting all user's 2 orders
2025-04-19 19:13:30.808 -07:00 [INF] Getting all user's: 2 orders from database
2025-04-19 19:13:30.812 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 19:13:30.815 -07:00 [INF] Recived all orders for user 2
2025-04-19 19:13:30.815 -07:00 [INF] Orders recieved!
2025-04-19 19:13:30.816 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:13:30.817 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 9.667ms
2025-04-19 19:13:30.819 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 19:13:30.820 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 16.5564ms
2025-04-19 19:13:34.879 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 19:13:34.882 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:13:34.884 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:13:34.886 -07:00 [INF] Request to get clients
2025-04-19 19:13:34.887 -07:00 [INF] Getting all clients from database
2025-04-19 19:13:34.892 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 19:13:34.894 -07:00 [INF] Got clients from database
2025-04-19 19:13:34.895 -07:00 [INF] Clients recived successfuly
2025-04-19 19:13:34.897 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:13:34.902 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 16.4809ms
2025-04-19 19:13:34.903 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:13:34.904 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 24.9355ms
2025-04-19 19:14:21.169 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:14:21.172 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:14:21.175 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:14:21.177 -07:00 [INF] Request to get client's 0 orders
2025-04-19 19:14:21.178 -07:00 [INF] Trying to get all client's 0 orders
2025-04-19 19:14:21.182 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:14:21.186 -07:00 [WRN] No orders found for client 0!
2025-04-19 19:14:21.186 -07:00 [INF] Orders for client 0 recived!
2025-04-19 19:14:21.187 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:14:21.189 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 12.3274ms
2025-04-19 19:14:21.190 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:14:21.191 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 22.0298ms
<<<<<<< HEAD
2025-04-19 19:53:51.714 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 19:53:51.831 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 19:53:51.831 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 19:53:51.930 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 19:53:51.931 -07:00 [INF] Hosting environment: Development
2025-04-19 19:53:51.931 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 19:53:52.322 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:53:52.429 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 111.1404ms
2025-04-19 19:53:52.432 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:53:52.437 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.5403ms
2025-04-19 19:53:52.454 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:53:52.517 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.7081ms
2025-04-19 19:53:52.538 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:53:52.550 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3527ms
2025-04-19 19:54:00.902 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 19:54:00.930 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:54:00.942 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 19:54:01.021 -07:00 [INF] Signing in admin
2025-04-19 19:54:01.026 -07:00 [INF] Trying to sign in admin
2025-04-19 19:54:01.475 -07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 19:54:01.678 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
=======
2025-04-19 19:20:55.053 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 19:20:55.188 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 19:20:55.189 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 19:20:55.239 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 19:20:55.239 -07:00 [INF] Hosting environment: Development
2025-04-19 19:20:55.240 -07:00 [INF] Content root path: E:\Andrii\Desktop\git clone customer-and-orders\Customer-And-Orders-API\Customer-And-Orders.API
2025-04-19 19:20:55.880 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:20:55.983 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 106.7155ms
2025-04-19 19:20:55.987 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:20:55.992 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.2509ms
2025-04-19 19:20:56.006 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:20:56.034 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.5832ms
2025-04-19 19:20:56.053 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:20:56.064 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.1478ms
2025-04-19 19:21:03.996 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 19:21:04.031 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:21:04.044 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 19:21:04.156 -07:00 [INF] Signing in admin
2025-04-19 19:21:04.160 -07:00 [INF] Trying to sign in admin
2025-04-19 19:21:04.666 -07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 19:21:04.875 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> Added ApiResponse
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
<<<<<<< HEAD
2025-04-19 19:54:01.685 -07:00 [INF] User admin signed in successfuly
2025-04-19 19:54:01.686 -07:00 [INF] User admin signed in!
2025-04-19 19:54:01.690 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 19:54:01.696 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 750.8268ms
2025-04-19 19:54:01.697 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:54:01.701 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 798.9402ms
2025-04-19 19:54:08.274 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 19:54:08.296 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:54:08.299 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:54:08.302 -07:00 [INF] Request to get clients
2025-04-19 19:54:08.303 -07:00 [INF] Getting all clients from database
2025-04-19 19:54:08.315 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 19:54:08.319 -07:00 [INF] Got clients from database
2025-04-19 19:54:08.319 -07:00 [INF] Clients recived successfuly
2025-04-19 19:54:08.320 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:54:08.325 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 23.9895ms
2025-04-19 19:54:08.326 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:54:08.326 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 52.618ms
2025-04-19 19:54:27.392 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 19:54:27.505 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 19:54:27.506 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 19:54:27.556 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 19:54:27.557 -07:00 [INF] Hosting environment: Development
2025-04-19 19:54:27.558 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 19:54:27.925 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:54:28.013 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 91.8612ms
2025-04-19 19:54:28.016 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:54:28.020 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.7669ms
2025-04-19 19:54:28.039 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:54:28.061 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.2539ms
2025-04-19 19:54:28.083 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:54:28.092 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.4324ms
2025-04-19 19:54:32.673 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 19:54:32.727 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:54:32.738 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:54:32.804 -07:00 [INF] Request to get clients
2025-04-19 19:54:32.808 -07:00 [INF] Getting all clients from database
2025-04-19 19:54:33.247 -07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 19:54:33.281 -07:00 [INF] Got clients from database
2025-04-19 19:54:33.281 -07:00 [INF] Clients recived successfuly
2025-04-19 19:54:33.286 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:54:33.294 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 553.3036ms
2025-04-19 19:54:33.295 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:54:33.300 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 627.4715ms
2025-04-19 19:54:55.019 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 87
2025-04-19 19:54:55.024 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 19:54:55.030 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:54:55.074 -07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 19:54:55.115 -07:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-04-19 19:54:55.116 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 84.5759ms
2025-04-19 19:54:55.116 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 19:54:55.117 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 204 null null 98.8313ms
2025-04-19 19:59:10.951 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 19:59:11.067 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 19:59:11.067 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 19:59:11.128 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 19:59:11.129 -07:00 [INF] Hosting environment: Development
2025-04-19 19:59:11.129 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 19:59:11.313 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 19:59:11.397 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 86.8756ms
2025-04-19 19:59:11.400 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 19:59:11.405 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.7377ms
2025-04-19 19:59:11.418 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 19:59:11.438 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.02ms
2025-04-19 19:59:11.463 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 19:59:11.473 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8837ms
2025-04-19 19:59:12.919 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 87
2025-04-19 19:59:12.974 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 19:59:12.987 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:59:13.067 -07:00 [INF] Changing clients 3 data
2025-04-19 19:59:13.069 -07:00 [INF] Changing client's 3 data in database
2025-04-19 19:59:13.525 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 19:59:13.596 -07:00 [ERR] Error updating user's data in database! Error: The instance of entity type 'User' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
2025-04-19 19:59:13.597 -07:00 [INF] Clients 3 data changed!
2025-04-19 19:59:13.602 -07:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-04-19 19:59:13.605 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 615.1344ms
2025-04-19 19:59:13.606 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 19:59:13.611 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 204 null null 692.2891ms
2025-04-19 19:59:45.760 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 81
2025-04-19 19:59:45.764 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 19:59:45.765 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:59:45.768 -07:00 [INF] Changing clients 3 data
2025-04-19 19:59:45.768 -07:00 [INF] Changing client's 3 data in database
2025-04-19 19:59:45.781 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 19:59:45.797 -07:00 [ERR] Error updating user's data in database! Error: The instance of entity type 'User' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
2025-04-19 19:59:45.798 -07:00 [INF] Clients 3 data changed!
2025-04-19 19:59:45.799 -07:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-04-19 19:59:45.800 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 33.4976ms
2025-04-19 19:59:45.801 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 19:59:45.802 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 204 null null 42.3042ms
2025-04-19 20:01:13.332 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:01:13.452 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:01:13.452 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:01:13.496 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:01:13.497 -07:00 [INF] Hosting environment: Development
2025-04-19 20:01:13.497 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:01:13.752 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:01:13.837 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 88.2607ms
2025-04-19 20:01:13.841 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:01:13.845 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.2224ms
2025-04-19 20:01:13.863 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:01:13.886 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.5212ms
2025-04-19 20:01:13.909 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:01:13.920 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8663ms
2025-04-19 20:01:15.259 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 81
2025-04-19 20:01:15.317 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:01:15.332 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:01:15.416 -07:00 [INF] Changing clients 3 data
2025-04-19 20:01:15.418 -07:00 [INF] Changing client's 3 data in database
2025-04-19 20:01:15.812 -07:00 [INF] Executed DbCommand (26ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [PasswordHash] = @p1, [RefreshExpiry] = @p2, [RefreshToken] = @p3, [Role] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-04-19 20:01:15.839 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'Customer_And_Orders.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PasswordHash', table 'Customer-And-Orders.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1923165d-98f4-4015-90a9-e02b951debaf
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PasswordHash', table 'Customer-And-Orders.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1923165d-98f4-4015-90a9-e02b951debaf
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-19 20:01:15.880 -07:00 [ERR] Error updating user's data in database! Error: An error occurred while saving the entity changes. See the inner exception for details.
2025-04-19 20:01:15.881 -07:00 [INF] Clients 3 data changed!
2025-04-19 20:01:15.885 -07:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-04-19 20:01:15.888 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 553.4137ms
2025-04-19 20:01:15.889 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:01:15.893 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 204 null null 634.1316ms
2025-04-19 20:01:55.074 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:01:55.202 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:01:55.203 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:01:55.266 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:01:55.266 -07:00 [INF] Hosting environment: Development
2025-04-19 20:01:55.267 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:01:55.453 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:01:55.543 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 95.0247ms
2025-04-19 20:01:55.547 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:01:55.551 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.5299ms
2025-04-19 20:01:55.569 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:01:55.593 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.3104ms
2025-04-19 20:01:55.621 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:01:55.631 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.5533ms
2025-04-19 20:01:59.505 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 81
2025-04-19 20:01:59.558 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:01:59.570 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:01:59.649 -07:00 [INF] Changing clients 3 data
2025-04-19 20:01:59.650 -07:00 [INF] Changing client's 3 data in database
2025-04-19 20:02:00.032 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [PasswordHash] = @p1, [RefreshExpiry] = @p2, [RefreshToken] = @p3, [Role] = @p4, [Username] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-04-19 20:02:00.057 -07:00 [ERR] An exception occurred in the database while saving changes for context type 'Customer_And_Orders.DAL.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PasswordHash', table 'Customer-And-Orders.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34683b79-5f7e-432b-8774-de1570e7f629
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PasswordHash', table 'Customer-And-Orders.dbo.User'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:34683b79-5f7e-432b-8774-de1570e7f629
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-04-19 20:02:00.096 -07:00 [ERR] Error updating user's data in database! Error: An error occurred while saving the entity changes. See the inner exception for details.
2025-04-19 20:02:00.096 -07:00 [INF] Clients 3 data changed!
2025-04-19 20:02:00.101 -07:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2025-04-19 20:02:00.103 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 530.812ms
2025-04-19 20:02:00.104 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:02:00.108 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 204 null null 603.5998ms
2025-04-19 20:04:21.231 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:04:21.337 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:04:21.338 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:04:21.383 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:04:21.384 -07:00 [INF] Hosting environment: Development
2025-04-19 20:04:21.384 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:04:21.709 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:04:21.794 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 88.0765ms
2025-04-19 20:04:21.797 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:04:21.803 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.4212ms
2025-04-19 20:04:21.818 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:04:21.839 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.1745ms
2025-04-19 20:04:21.861 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:04:21.875 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.6332ms
2025-04-19 20:04:24.381 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 80
2025-04-19 20:04:24.437 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:04:24.450 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:04:24.533 -07:00 [INF] Changing clients 3 data
2025-04-19 20:04:24.535 -07:00 [INF] Changing client's 3 data in database
2025-04-19 20:04:24.925 -07:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Role] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:04:25.054 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 20:04:25.059 -07:00 [INF] User's data updated!
2025-04-19 20:04:25.059 -07:00 [INF] Clients 3 data changed!
2025-04-19 20:04:25.063 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.User'.
2025-04-19 20:04:25.069 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 617.2847ms
2025-04-19 20:04:25.070 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:04:25.074 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 200 null application/json; charset=utf-8 693.7648ms
2025-04-19 20:05:07.468 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 51
2025-04-19 20:05:07.476 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:05:07.479 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:05:07.484 -07:00 [INF] Signing in client
2025-04-19 20:05:07.488 -07:00 [INF] Trying to sign in client
2025-04-19 20:05:07.517 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:05:07.649 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:05:07.652 -07:00 [INF] User client signed in successfuly
2025-04-19 20:05:07.653 -07:00 [INF] User client signed in!
2025-04-19 20:05:07.653 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:05:07.657 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 175.8039ms
2025-04-19 20:05:07.658 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:05:07.658 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 190.5614ms
2025-04-19 20:05:16.181 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:05:16.185 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-19 20:05:16.187 -07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-19 20:05:16.188 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 403 0 null 6.8035ms
2025-04-19 20:05:44.126 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 20:05:44.131 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:05:44.132 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:05:44.134 -07:00 [INF] Signing in admin
2025-04-19 20:05:44.135 -07:00 [INF] Trying to sign in admin
2025-04-19 20:05:44.143 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:05:44.274 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:05:44.276 -07:00 [INF] User admin signed in successfuly
2025-04-19 20:05:44.276 -07:00 [INF] User admin signed in!
2025-04-19 20:05:44.277 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:05:44.278 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 144.7991ms
2025-04-19 20:05:44.279 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:05:44.280 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 153.8134ms
2025-04-19 20:05:54.330 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:05:54.332 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:05:54.334 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:05:54.336 -07:00 [INF] Request to get clients
2025-04-19 20:05:54.337 -07:00 [INF] Getting all clients from database
2025-04-19 20:05:54.343 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:05:54.346 -07:00 [WRN] No clients found!
2025-04-19 20:05:54.347 -07:00 [INF] Clients recived successfuly
2025-04-19 20:05:54.347 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:05:54.349 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 13.255ms
2025-04-19 20:05:54.350 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:05:54.351 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 20.8394ms
2025-04-19 20:05:55.579 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:05:55.581 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:05:55.582 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:05:55.585 -07:00 [INF] Request to get clients
2025-04-19 20:05:55.585 -07:00 [INF] Getting all clients from database
2025-04-19 20:05:55.587 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:05:55.589 -07:00 [WRN] No clients found!
2025-04-19 20:05:55.589 -07:00 [INF] Clients recived successfuly
2025-04-19 20:05:55.589 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:05:55.591 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 8.2202ms
2025-04-19 20:05:55.592 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:05:55.593 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 14.5198ms
2025-04-19 20:06:06.654 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 81
2025-04-19 20:06:06.656 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:06:06.657 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:06:06.658 -07:00 [INF] Changing clients 3 data
2025-04-19 20:06:06.658 -07:00 [INF] Changing client's 3 data in database
2025-04-19 20:06:06.661 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Role] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:06:06.663 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 20:06:06.665 -07:00 [INF] User's data updated!
2025-04-19 20:06:06.665 -07:00 [INF] Clients 3 data changed!
2025-04-19 20:06:06.666 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.User'.
2025-04-19 20:06:06.667 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 9.457ms
2025-04-19 20:06:06.668 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:06:06.669 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 200 null application/json; charset=utf-8 15.3294ms
2025-04-19 20:06:17.070 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 51
2025-04-19 20:06:17.072 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:06:17.072 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:06:17.075 -07:00 [INF] Signing in client
2025-04-19 20:06:17.075 -07:00 [INF] Trying to sign in client
2025-04-19 20:06:17.077 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:06:17.131 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:06:17.133 -07:00 [INF] User client signed in successfuly
2025-04-19 20:06:17.133 -07:00 [INF] User client signed in!
2025-04-19 20:06:17.134 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:06:17.135 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 61.2298ms
2025-04-19 20:06:17.136 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:06:17.136 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 66.4666ms
2025-04-19 20:06:32.811 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-up - application/json 61
2025-04-19 20:06:32.813 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API)'
2025-04-19 20:06:32.816 -07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Customer_And_Orders.BAL.Models.CreateUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:06:32.819 -07:00 [INF] Trying to sign up user: user
2025-04-19 20:06:32.865 -07:00 [INF] Addint user to database
2025-04-19 20:06:32.876 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__user_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-04-19 20:06:32.891 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [PasswordHash], [RefreshExpiry], [RefreshToken], [Role], [Username])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-19 20:06:32.897 -07:00 [INF] User user signed up successfuly
2025-04-19 20:06:32.898 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateUserDTO'.
2025-04-19 20:06:32.899 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API) in 81.9463ms
2025-04-19 20:06:32.900 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Register (Customer-And-Orders.API)'
2025-04-19 20:06:32.901 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-up - 200 null application/json; charset=utf-8 89.6226ms
2025-04-19 20:06:38.822 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:06:38.824 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:06:38.824 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:06:38.826 -07:00 [INF] Request to get clients
2025-04-19 20:06:38.826 -07:00 [INF] Getting all clients from database
2025-04-19 20:06:38.828 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:06:38.830 -07:00 [INF] Got clients from database
2025-04-19 20:06:38.830 -07:00 [INF] Clients recived successfuly
2025-04-19 20:06:38.831 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:06:38.832 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 6.1125ms
2025-04-19 20:06:38.833 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:06:38.833 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 11.9391ms
2025-04-19 20:07:00.903 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 46
2025-04-19 20:07:00.906 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:07:00.906 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:07:00.908 -07:00 [INF] Signing in user
2025-04-19 20:07:00.908 -07:00 [INF] Trying to sign in user
2025-04-19 20:07:00.910 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:07:00.960 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:07:00.962 -07:00 [INF] User user signed in successfuly
2025-04-19 20:07:00.963 -07:00 [INF] User user signed in!
2025-04-19 20:07:00.963 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:07:00.964 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 56.9289ms
2025-04-19 20:07:00.966 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:07:00.966 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 64.7821ms
2025-04-19 20:07:20.064 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:07:20.068 -07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-04-19 20:07:20.069 -07:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-04-19 20:07:20.070 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 403 0 null 5.5686ms
2025-04-19 20:07:37.070 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 130
2025-04-19 20:07:37.072 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:07:37.075 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:07:37.081 -07:00 [INF] Creating order
2025-04-19 20:07:37.082 -07:00 [INF] Adding order to database!
2025-04-19 20:07:37.092 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 20:07:37.100 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 20:07:37.102 -07:00 [INF] Order added to database successfuly with id 7
2025-04-19 20:07:37.102 -07:00 [INF] Order created
2025-04-19 20:07:37.103 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 20:07:37.105 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 28.6382ms
2025-04-19 20:07:37.106 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:07:37.106 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 36.6837ms
2025-04-19 20:07:39.851 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 130
2025-04-19 20:07:39.853 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:07:39.854 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:07:39.856 -07:00 [INF] Creating order
2025-04-19 20:07:39.857 -07:00 [INF] Adding order to database!
2025-04-19 20:07:39.859 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 20:07:39.861 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 20:07:39.863 -07:00 [INF] Order added to database successfuly with id 8
2025-04-19 20:07:39.863 -07:00 [INF] Order created
2025-04-19 20:07:39.864 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 20:07:39.865 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 8.6261ms
2025-04-19 20:07:39.866 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:07:39.866 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 16.0195ms
2025-04-19 20:07:40.344 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 130
2025-04-19 20:07:40.346 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:07:40.347 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:07:40.349 -07:00 [INF] Creating order
2025-04-19 20:07:40.350 -07:00 [INF] Adding order to database!
2025-04-19 20:07:40.352 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 20:07:40.354 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 20:07:40.355 -07:00 [INF] Order added to database successfuly with id 9
2025-04-19 20:07:40.356 -07:00 [INF] Order created
2025-04-19 20:07:40.356 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 20:07:40.357 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 8.7618ms
2025-04-19 20:07:40.358 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:07:40.359 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 14.5796ms
2025-04-19 20:07:45.357 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/api/Order/get-all - null null
2025-04-19 20:07:45.359 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 20:07:45.362 -07:00 [INF] Route matched with {action = "GetAllOrdersByUserId", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllOrdersByUserIdAsync(Customer_And_Orders.DAL.Data.Entities.QueryParams) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:07:45.367 -07:00 [INF] Getting all user's 4 orders
2025-04-19 20:07:45.369 -07:00 [INF] Getting all user's: 4 orders from database
2025-04-19 20:07:45.374 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__userId_0
ORDER BY [o].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-04-19 20:07:45.376 -07:00 [INF] Recived all orders for user 4
2025-04-19 20:07:45.376 -07:00 [INF] Orders recieved!
2025-04-19 20:07:45.376 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:07:45.378 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API) in 14.2109ms
2025-04-19 20:07:45.379 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.GetAllOrdersByUserIdAsync (Customer-And-Orders.API)'
2025-04-19 20:07:45.380 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/api/Order/get-all - 200 null application/json; charset=utf-8 22.4753ms
2025-04-19 20:08:06.663 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 51
2025-04-19 20:08:06.667 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:08:06.668 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:08:06.670 -07:00 [INF] Signing in client
2025-04-19 20:08:06.670 -07:00 [INF] Trying to sign in client
2025-04-19 20:08:06.671 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:08:06.719 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:08:06.720 -07:00 [INF] User client signed in successfuly
2025-04-19 20:08:06.721 -07:00 [INF] User client signed in!
2025-04-19 20:08:06.721 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:08:06.722 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 53.2172ms
2025-04-19 20:08:06.723 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:08:06.724 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 61.6541ms
2025-04-19 20:08:17.571 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:08:17.572 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:08:17.573 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:08:17.574 -07:00 [INF] Request to get clients
2025-04-19 20:08:17.575 -07:00 [INF] Getting all clients from database
2025-04-19 20:08:17.576 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:08:17.578 -07:00 [INF] Got clients from database
2025-04-19 20:08:17.579 -07:00 [INF] Clients recived successfuly
2025-04-19 20:08:17.579 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:08:17.580 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 6.1562ms
2025-04-19 20:08:17.581 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:08:17.582 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 11.608ms
2025-04-19 20:08:23.169 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/4 - null null
2025-04-19 20:08:23.171 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:08:23.173 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:08:23.175 -07:00 [INF] Request to get client's 4 orders
2025-04-19 20:08:23.176 -07:00 [INF] Trying to get all client's 4 orders
2025-04-19 20:08:23.180 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 20:08:23.182 -07:00 [INF] Got orders for client 4 from database
2025-04-19 20:08:23.182 -07:00 [INF] Orders for client 4 recived!
2025-04-19 20:08:23.183 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:08:23.184 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 9.562ms
2025-04-19 20:08:23.185 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:08:23.186 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/4 - 200 null application/json; charset=utf-8 16.6102ms
2025-04-19 20:09:54.496 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:09:54.627 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:09:54.627 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:09:54.677 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:09:54.678 -07:00 [INF] Hosting environment: Development
2025-04-19 20:09:54.679 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:09:54.881 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:09:54.978 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 101.0202ms
2025-04-19 20:09:54.982 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:09:54.986 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.149ms
2025-04-19 20:09:55.002 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:09:55.023 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.1674ms
2025-04-19 20:09:55.051 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:09:55.060 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.5852ms
2025-04-19 20:10:05.069 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 20:10:05.098 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:10:05.110 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:10:05.188 -07:00 [INF] Signing in admin
2025-04-19 20:10:05.192 -07:00 [INF] Trying to sign in admin
2025-04-19 20:10:05.653 -07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:10:05.862 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:10:05.870 -07:00 [INF] User admin signed in successfuly
2025-04-19 20:10:05.870 -07:00 [INF] User admin signed in!
2025-04-19 20:10:05.875 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:10:05.880 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 766.8689ms
2025-04-19 20:10:05.881 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:10:05.886 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 816.3883ms
2025-04-19 20:10:13.502 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:10:13.524 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:10:13.527 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:10:13.530 -07:00 [INF] Request to get clients
2025-04-19 20:10:13.531 -07:00 [INF] Getting all clients from database
2025-04-19 20:10:13.545 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:10:13.547 -07:00 [INF] Got clients from database
2025-04-19 20:10:13.548 -07:00 [INF] Clients recived successfuly
2025-04-19 20:10:13.549 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:10:13.554 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 26.0075ms
2025-04-19 20:10:13.556 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:10:13.557 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 54.7404ms
2025-04-19 20:10:20.303 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/4 - null null
2025-04-19 20:10:20.307 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:10:20.310 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:10:20.314 -07:00 [INF] Request to get client's 4 orders
2025-04-19 20:10:20.315 -07:00 [INF] Trying to get all client's 4 orders
2025-04-19 20:10:20.345 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 20:10:20.352 -07:00 [INF] Got orders for client 4 from database
2025-04-19 20:10:20.353 -07:00 [INF] Orders for client 4 recived!
2025-04-19 20:10:20.353 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:10:20.356 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 44.8553ms
2025-04-19 20:10:20.357 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:10:20.359 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/4 - 200 null application/json; charset=utf-8 55.6381ms
2025-04-19 20:10:46.918 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 73
2025-04-19 20:10:46.923 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:10:46.925 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:10:46.930 -07:00 [INF] Changing clients 4 data
2025-04-19 20:10:46.932 -07:00 [INF] Changing client's 4 data in database
2025-04-19 20:10:46.942 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Role] = @p1, [Username] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-04-19 20:10:46.947 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 20:10:46.949 -07:00 [INF] User's data updated!
2025-04-19 20:10:46.949 -07:00 [INF] Clients 4 data changed!
2025-04-19 20:10:46.950 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.User'.
2025-04-19 20:10:46.951 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 24.6184ms
2025-04-19 20:10:46.952 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:10:46.953 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 200 null application/json; charset=utf-8 35.0396ms
2025-04-19 20:11:07.946 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/update-clients-data - application/json 82
2025-04-19 20:11:07.948 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:11:07.949 -07:00 [INF] Route matched with {action = "UpdateClientsData", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateClientsData(Customer_And_Orders.BAL.Models.UpdateUserDTO) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:11:07.951 -07:00 [INF] Changing clients 4 data
2025-04-19 20:11:07.951 -07:00 [INF] Changing client's 4 data in database
2025-04-19 20:11:07.954 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Role] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:11:07.958 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__data_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__data_Id_0
2025-04-19 20:11:07.959 -07:00 [INF] User's data updated!
2025-04-19 20:11:07.960 -07:00 [INF] Clients 4 data changed!
2025-04-19 20:11:07.960 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.User'.
2025-04-19 20:11:07.961 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API) in 10.743ms
2025-04-19 20:11:07.962 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.UpdateClientsData (Customer-And-Orders.API)'
2025-04-19 20:11:07.963 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/update-clients-data - 200 null application/json; charset=utf-8 16.5916ms
2025-04-19 20:12:49.262 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:12:49.388 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:12:49.388 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:12:49.446 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:12:49.449 -07:00 [INF] Hosting environment: Development
2025-04-19 20:12:49.450 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:12:49.608 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:12:49.700 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 96.2374ms
2025-04-19 20:12:49.704 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:12:49.709 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.7552ms
2025-04-19 20:12:49.724 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:12:49.749 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.9984ms
2025-04-19 20:12:49.773 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:12:49.783 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.3188ms
2025-04-19 20:13:05.799 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:13:05.931 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:13:05.932 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:13:05.992 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:13:05.993 -07:00 [INF] Hosting environment: Development
2025-04-19 20:13:05.994 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:13:06.334 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:13:06.431 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 101.5942ms
2025-04-19 20:13:06.434 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:13:06.438 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.4042ms
2025-04-19 20:13:06.453 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:13:06.473 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.2165ms
2025-04-19 20:13:06.495 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:13:06.505 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4406ms
2025-04-19 20:13:11.513 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:13:11.564 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:13:11.575 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:13:11.636 -07:00 [INF] Request to get clients
2025-04-19 20:13:11.640 -07:00 [INF] Getting all clients from database
2025-04-19 20:13:12.067 -07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] <> N'Admin'
2025-04-19 20:13:12.103 -07:00 [INF] Got clients from database
2025-04-19 20:13:12.103 -07:00 [INF] Clients recived successfuly
2025-04-19 20:13:12.108 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:13:12.117 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 538.5017ms
2025-04-19 20:13:12.118 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:13:12.121 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 609.0385ms
2025-04-19 20:13:18.395 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:13:18.401 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 6.0288ms
2025-04-19 20:13:18.408 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:13:18.408 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:13:18.413 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 4.828ms
2025-04-19 20:13:18.419 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7631ms
2025-04-19 20:13:18.458 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:13:18.463 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.886ms
2025-04-19 20:13:25.836 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 20:13:25.838 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:13:25.843 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:13:25.861 -07:00 [INF] Signing in admin
2025-04-19 20:13:25.865 -07:00 [INF] Trying to sign in admin
2025-04-19 20:13:25.890 -07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:13:26.055 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:13:26.061 -07:00 [INF] User admin signed in successfuly
2025-04-19 20:13:26.062 -07:00 [INF] User admin signed in!
2025-04-19 20:13:26.062 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:13:26.065 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 220.5515ms
2025-04-19 20:13:26.066 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:13:26.067 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 230.9864ms
2025-04-19 20:13:33.121 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:13:33.125 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:13:33.126 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:13:33.128 -07:00 [INF] Request to get clients
2025-04-19 20:13:33.128 -07:00 [INF] Getting all clients from database
2025-04-19 20:13:33.156 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] <> N'Admin'
2025-04-19 20:13:33.158 -07:00 [INF] Got clients from database
2025-04-19 20:13:33.158 -07:00 [INF] Clients recived successfuly
2025-04-19 20:13:33.159 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:13:33.160 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 32.8919ms
2025-04-19 20:13:33.161 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:13:33.162 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 40.8024ms
2025-04-19 20:23:25.204 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:23:25.342 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:23:25.343 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:23:25.411 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:23:25.412 -07:00 [INF] Hosting environment: Development
2025-04-19 20:23:25.413 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:23:25.549 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:23:25.652 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 105.7876ms
2025-04-19 20:23:25.656 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:23:25.662 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 6.2869ms
2025-04-19 20:23:25.675 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:23:25.700 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.8194ms
2025-04-19 20:23:25.727 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:23:25.737 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.6312ms
2025-04-19 20:23:35.915 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 20:23:35.944 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:23:35.957 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:23:36.040 -07:00 [INF] Signing in admin
2025-04-19 20:23:36.045 -07:00 [INF] Trying to sign in admin
2025-04-19 20:23:36.497 -07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:23:36.703 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:23:36.710 -07:00 [INF] User admin signed in successfuly
2025-04-19 20:23:36.711 -07:00 [INF] User admin signed in!
2025-04-19 20:23:36.716 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:23:36.721 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 760.9489ms
2025-04-19 20:23:36.722 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:23:36.726 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 810.9524ms
2025-04-19 20:23:43.961 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:23:43.982 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:23:43.985 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:23:43.987 -07:00 [INF] Request to get clients
2025-04-19 20:23:43.988 -07:00 [INF] Getting all clients from database
2025-04-19 20:23:44.002 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:23:44.005 -07:00 [INF] Got clients from database
2025-04-19 20:23:44.006 -07:00 [INF] Clients recived successfuly
2025-04-19 20:23:44.006 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:23:44.012 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 26.2078ms
2025-04-19 20:23:44.014 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:23:44.015 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 54.7356ms
2025-04-19 20:23:54.686 -07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7200/delte-client/4 - null null
2025-04-19 20:23:54.690 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API)'
2025-04-19 20:23:54.692 -07:00 [INF] Route matched with {action = "DeleteClient", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClient(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:23:54.696 -07:00 [INF] Deleting client with id 0
2025-04-19 20:23:54.697 -07:00 [INF] Deleting client 0 from database
2025-04-19 20:23:54.727 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__clientId_0
2025-04-19 20:23:54.729 -07:00 [WRN] Client with id 0 wasn't found
2025-04-19 20:23:54.730 -07:00 [INF] Deleted client: 0
2025-04-19 20:23:54.730 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-04-19 20:23:54.732 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API) in 38.4177ms
2025-04-19 20:23:54.733 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API)'
2025-04-19 20:23:54.734 -07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7200/delte-client/4 - 200 null application/json; charset=utf-8 48.4682ms
2025-04-19 20:24:09.968 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:24:09.974 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 6.0143ms
2025-04-19 20:24:09.980 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:24:09.980 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:24:09.982 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 2.1429ms
2025-04-19 20:24:09.995 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.9947ms
2025-04-19 20:24:10.033 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:24:10.041 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.8134ms
2025-04-19 20:24:19.156 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 20:24:19.158 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:24:19.160 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:24:19.164 -07:00 [INF] Signing in admin
2025-04-19 20:24:19.164 -07:00 [INF] Trying to sign in admin
2025-04-19 20:24:19.167 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:24:19.298 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:24:19.300 -07:00 [INF] User admin signed in successfuly
2025-04-19 20:24:19.300 -07:00 [INF] User admin signed in!
2025-04-19 20:24:19.301 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:24:19.303 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 140.7971ms
2025-04-19 20:24:19.304 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:24:19.304 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 148.2338ms
2025-04-19 20:24:24.915 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:24:24.917 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:24:24.919 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:24:24.922 -07:00 [INF] Request to get clients
2025-04-19 20:24:24.923 -07:00 [INF] Getting all clients from database
2025-04-19 20:24:24.924 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:24:24.926 -07:00 [INF] Got clients from database
2025-04-19 20:24:24.927 -07:00 [INF] Clients recived successfuly
2025-04-19 20:24:24.927 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:24:24.929 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 7.9305ms
2025-04-19 20:24:24.930 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:24:24.931 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 16.2848ms
2025-04-19 20:24:28.423 -07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7200/delte-client/4 - null null
2025-04-19 20:24:28.425 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API)'
2025-04-19 20:24:28.428 -07:00 [INF] Route matched with {action = "DeleteClient", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClient(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:24:28.429 -07:00 [INF] Deleting client with id 0
2025-04-19 20:24:28.430 -07:00 [INF] Deleting client 0 from database
2025-04-19 20:24:28.431 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__clientId_0
2025-04-19 20:24:28.433 -07:00 [WRN] Client with id 0 wasn't found
2025-04-19 20:24:28.434 -07:00 [INF] Deleted client: 0
2025-04-19 20:24:28.434 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-04-19 20:24:28.435 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API) in 6.4918ms
2025-04-19 20:24:28.436 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API)'
2025-04-19 20:24:28.437 -07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7200/delte-client/4 - 200 null application/json; charset=utf-8 13.8101ms
2025-04-19 20:24:48.174 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:24:48.302 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:24:48.303 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:24:48.408 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:24:48.409 -07:00 [INF] Hosting environment: Development
2025-04-19 20:24:48.410 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:24:48.536 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:24:48.626 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 94.9771ms
2025-04-19 20:24:48.630 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:24:48.635 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.8714ms
2025-04-19 20:24:48.649 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:24:48.670 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.2088ms
2025-04-19 20:24:48.695 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:24:48.706 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.326ms
2025-04-19 20:24:52.748 -07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7200/delete-client?clientId=4 - null null
2025-04-19 20:24:52.803 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API)'
2025-04-19 20:24:52.816 -07:00 [INF] Route matched with {action = "DeleteClient", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteClient(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:24:52.890 -07:00 [INF] Deleting client with id 4
2025-04-19 20:24:52.891 -07:00 [INF] Deleting client 4 from database
2025-04-19 20:24:53.347 -07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Id] = @__clientId_0
2025-04-19 20:24:53.416 -07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [User]
OUTPUT 1
WHERE [Id] = @p0;
2025-04-19 20:24:53.423 -07:00 [INF] Deleted client: 4
2025-04-19 20:24:53.428 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2025-04-19 20:24:53.433 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API) in 613.7967ms
2025-04-19 20:24:53.434 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.DeleteClient (Customer-And-Orders.API)'
2025-04-19 20:24:53.438 -07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7200/delete-client?clientId=4 - 200 null application/json; charset=utf-8 689.8788ms
2025-04-19 20:25:57.381 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:25:57.385 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:25:57.388 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:25:57.391 -07:00 [INF] Request to get clients
2025-04-19 20:25:57.392 -07:00 [INF] Getting all clients from database
2025-04-19 20:25:57.405 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:25:57.408 -07:00 [INF] Got clients from database
2025-04-19 20:25:57.409 -07:00 [INF] Clients recived successfuly
2025-04-19 20:25:57.410 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:25:57.415 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 25.3543ms
2025-04-19 20:25:57.416 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:25:57.417 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 36.0297ms
2025-04-19 20:26:04.325 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/3 - null null
2025-04-19 20:26:04.329 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:26:04.332 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:26:04.337 -07:00 [INF] Request to get client's 3 orders
2025-04-19 20:26:04.338 -07:00 [INF] Trying to get all client's 3 orders
2025-04-19 20:26:04.369 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 20:26:04.371 -07:00 [WRN] No orders found for client 3!
2025-04-19 20:26:04.371 -07:00 [INF] Orders for client 3 recived!
2025-04-19 20:26:04.372 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:26:04.374 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 40.7959ms
2025-04-19 20:26:04.375 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:26:04.376 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/3 - 200 null application/json; charset=utf-8 51.8213ms
2025-04-19 20:26:25.641 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 149
2025-04-19 20:26:25.646 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:26:25.648 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:26:25.663 -07:00 [INF] Creating order
2025-04-19 20:26:25.664 -07:00 [INF] Adding order to database!
2025-04-19 20:26:25.688 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 20:26:25.700 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 20:26:25.701 -07:00 [INF] Order added to database successfuly with id 10
2025-04-19 20:26:25.702 -07:00 [INF] Order created
2025-04-19 20:26:25.703 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 20:26:25.704 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 54.6487ms
2025-04-19 20:26:25.705 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:26:25.706 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 65.2781ms
2025-04-19 20:26:56.105 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/3 - null null
2025-04-19 20:26:56.109 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:26:56.110 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:26:56.112 -07:00 [INF] Request to get client's 3 orders
2025-04-19 20:26:56.112 -07:00 [INF] Trying to get all client's 3 orders
2025-04-19 20:26:56.115 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 20:26:56.117 -07:00 [INF] Got orders for client 3 from database
2025-04-19 20:26:56.118 -07:00 [INF] Orders for client 3 recived!
2025-04-19 20:26:56.118 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:26:56.120 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 8.164ms
2025-04-19 20:26:56.121 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:26:56.121 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/3 - 200 null application/json; charset=utf-8 16.9477ms
2025-04-19 20:41:03.140 -07:00 [INF] User profile is available. Using 'C:\Users\Andrii\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-04-19 20:41:03.276 -07:00 [INF] Now listening on: https://localhost:7200
2025-04-19 20:41:03.277 -07:00 [INF] Now listening on: http://localhost:5258
2025-04-19 20:41:03.340 -07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-19 20:41:03.341 -07:00 [INF] Hosting environment: Development
2025-04-19 20:41:03.341 -07:00 [INF] Content root path: E:\Andrii\Documents\ASP.Net Projects\Customer-And-Orders.API\Customer-And-Orders.API
2025-04-19 20:41:03.444 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/index.html - null null
2025-04-19 20:41:03.534 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/index.html - 200 null text/html;charset=utf-8 94.3574ms
2025-04-19 20:41:03.538 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - null null
2025-04-19 20:41:03.543 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_framework/aspnetcore-browser-refresh.js - 200 13798 application/javascript; charset=utf-8 5.6086ms
2025-04-19 20:41:03.556 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/_vs/browserLink - null null
2025-04-19 20:41:03.577 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8577ms
2025-04-19 20:41:03.599 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - null null
2025-04-19 20:41:03.611 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.9963ms
2025-04-19 20:41:12.725 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 49
2025-04-19 20:41:12.753 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:41:12.766 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:41:12.847 -07:00 [INF] Signing in admin
2025-04-19 20:41:12.851 -07:00 [INF] Trying to sign in admin
2025-04-19 20:41:13.297 -07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:41:13.500 -07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:41:13.507 -07:00 [INF] User admin signed in successfuly
2025-04-19 20:41:13.508 -07:00 [INF] User admin signed in!
2025-04-19 20:41:13.513 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:41:13.518 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 749.2057ms
2025-04-19 20:41:13.519 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:41:13.523 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 798.065ms
2025-04-19 20:41:24.535 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 20:41:24.557 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:41:24.561 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:41:24.563 -07:00 [INF] Request to get clients
2025-04-19 20:41:24.564 -07:00 [INF] Getting all clients from database
2025-04-19 20:41:24.577 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 20:41:24.580 -07:00 [INF] Got clients from database
2025-04-19 20:41:24.581 -07:00 [INF] Clients recived successfuly
2025-04-19 20:41:24.581 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:41:24.586 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 24.026ms
2025-04-19 20:41:24.587 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 20:41:24.589 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 53.9752ms
2025-04-19 20:41:29.132 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/3 - null null
2025-04-19 20:41:29.135 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:41:29.138 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 20:41:29.143 -07:00 [INF] Request to get client's 3 orders
2025-04-19 20:41:29.145 -07:00 [INF] Trying to get all client's 3 orders
2025-04-19 20:41:29.176 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 20:41:29.183 -07:00 [INF] Got orders for client 3 from database
2025-04-19 20:41:29.183 -07:00 [INF] Orders for client 3 recived!
2025-04-19 20:41:29.184 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 20:41:29.187 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 47.4603ms
2025-04-19 20:41:29.188 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 20:41:29.189 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/3 - 200 null application/json; charset=utf-8 57.8827ms
2025-04-19 20:41:55.124 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/api/Order/update-order - application/json 96
2025-04-19 20:41:55.131 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:41:55.133 -07:00 [INF] Route matched with {action = "UpdateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderAsync(Customer_And_Orders.BAL.Models.UpdateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:41:55.139 -07:00 [INF] Updating order
2025-04-19 20:41:55.140 -07:00 [INF] Updating order 10
2025-04-19 20:41:55.153 -07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Order] SET [Title] = @p0, [UserId] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:41:55.155 -07:00 [INF] Order with Id 10 updated!
2025-04-19 20:41:55.155 -07:00 [INF] Order 10 updated!
2025-04-19 20:41:55.156 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.Order'.
2025-04-19 20:41:55.157 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API) in 22.4522ms
2025-04-19 20:41:55.158 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:41:55.159 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/api/Order/update-order - 200 null application/json; charset=utf-8 34.5549ms
2025-04-19 20:42:14.133 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Order/create-order - application/json 130
2025-04-19 20:42:14.136 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:42:14.139 -07:00 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrderAsync(Customer_And_Orders.BAL.Models.CreateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:42:14.143 -07:00 [INF] Creating order
2025-04-19 20:42:14.144 -07:00 [INF] Adding order to database!
2025-04-19 20:42:14.158 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Order] ([CreatedAt], [Description], [Status], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-04-19 20:42:14.170 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
ORDER BY [o].[Id] DESC
2025-04-19 20:42:14.172 -07:00 [INF] Order added to database successfuly with id 11
2025-04-19 20:42:14.172 -07:00 [INF] Order created
2025-04-19 20:42:14.173 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.BAL.Models.CreateOrderDTO'.
2025-04-19 20:42:14.174 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API) in 34.2061ms
2025-04-19 20:42:14.175 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.CreateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:42:14.176 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Order/create-order - 200 null application/json; charset=utf-8 42.3515ms
2025-04-19 20:42:56.521 -07:00 [INF] Request starting HTTP/2 POST https://localhost:7200/api/Auth/sign-in - application/json 51
2025-04-19 20:42:56.525 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:42:56.527 -07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Customer_And_Orders.BAL.Models.LoginUserDTO) on controller Customer_And_Orders.API.Controllers.AuthController (Customer-And-Orders.API).
2025-04-19 20:42:56.528 -07:00 [INF] Signing in client
2025-04-19 20:42:56.529 -07:00 [INF] Trying to sign in client
2025-04-19 20:42:56.532 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__username_0
2025-04-19 20:42:56.655 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [User] SET [RefreshExpiry] = @p0, [RefreshToken] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:42:56.657 -07:00 [INF] User client signed in successfuly
2025-04-19 20:42:56.657 -07:00 [INF] User client signed in!
2025-04-19 20:42:56.658 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 20:42:56.660 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 132.1332ms
2025-04-19 20:42:56.661 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 20:42:56.662 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 141.0377ms
2025-04-19 20:43:22.765 -07:00 [INF] Request starting HTTP/2 PUT https://localhost:7200/api/Order/update-order - application/json 97
2025-04-19 20:43:22.768 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:43:22.769 -07:00 [INF] Route matched with {action = "UpdateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateOrderAsync(Customer_And_Orders.BAL.Models.UpdateOrderDTO) on controller Customer_And_Orders.API.Controllers.OrderController (Customer-And-Orders.API).
2025-04-19 20:43:22.771 -07:00 [INF] Updating order
2025-04-19 20:43:22.772 -07:00 [INF] Updating order 11
2025-04-19 20:43:22.775 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Order] SET [Title] = @p0, [UserId] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-04-19 20:43:22.779 -07:00 [INF] Order with Id 11 updated!
2025-04-19 20:43:22.779 -07:00 [INF] Order 11 updated!
2025-04-19 20:43:22.780 -07:00 [INF] Executing OkObjectResult, writing value of type 'Customer_And_Orders.DAL.Data.Entities.Order'.
2025-04-19 20:43:22.781 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API) in 10.867ms
2025-04-19 20:43:22.782 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.OrderController.UpdateOrderAsync (Customer-And-Orders.API)'
2025-04-19 20:43:22.783 -07:00 [INF] Request finished HTTP/2 PUT https://localhost:7200/api/Order/update-order - 200 null application/json; charset=utf-8 18.7589ms
=======
2025-04-19 19:21:04.883 -07:00 [INF] User admin signed in successfuly
2025-04-19 19:21:04.883 -07:00 [INF] User admin signed in!
2025-04-19 19:21:04.888 -07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-19 19:21:04.893 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API) in 846.0969ms
2025-04-19 19:21:04.894 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AuthController.Login (Customer-And-Orders.API)'
2025-04-19 19:21:04.899 -07:00 [INF] Request finished HTTP/2 POST https://localhost:7200/api/Auth/sign-in - 200 null application/json; charset=utf-8 902.7188ms
2025-04-19 19:21:15.341 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 19:21:15.362 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:21:15.365 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:21:15.367 -07:00 [INF] Request to get clients
2025-04-19 19:21:15.368 -07:00 [INF] Getting all clients from database
2025-04-19 19:21:15.381 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 19:21:15.384 -07:00 [INF] Got clients from database
2025-04-19 19:21:15.385 -07:00 [INF] Clients recived successfuly
2025-04-19 19:21:15.385 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:21:15.391 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 24.4225ms
2025-04-19 19:21:15.392 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:21:15.393 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 52.46ms
2025-04-19 19:21:20.560 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:21:20.563 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:21:20.566 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:21:20.570 -07:00 [INF] Request to get client's 1 orders
2025-04-19 19:21:20.571 -07:00 [INF] Trying to get all client's 1 orders
2025-04-19 19:21:20.601 -07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:21:20.609 -07:00 [INF] Got orders for client 1 from database
2025-04-19 19:21:20.609 -07:00 [INF] Orders for client 1 recived!
2025-04-19 19:21:20.610 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:21:20.613 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 45.6526ms
2025-04-19 19:21:20.614 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:21:20.615 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 55.4165ms
2025-04-19 19:21:50.643 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:21:50.648 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:21:50.649 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:21:50.651 -07:00 [INF] Request to get client's 1 orders
2025-04-19 19:21:50.652 -07:00 [INF] Trying to get all client's 1 orders
2025-04-19 19:21:50.655 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:21:50.657 -07:00 [INF] Got orders for client 1 from database
2025-04-19 19:21:50.658 -07:00 [INF] Orders for client 1 recived!
2025-04-19 19:21:50.658 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:21:50.659 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 9.1165ms
2025-04-19 19:21:50.660 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:21:50.661 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 17.9426ms
2025-04-19 19:22:02.035 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients-orders/1 - null null
2025-04-19 19:22:02.037 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:22:02.038 -07:00 [INF] Route matched with {action = "GetClientsOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsOrdersAsync(Int32) on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:22:02.040 -07:00 [INF] Request to get client's 1 orders
2025-04-19 19:22:02.041 -07:00 [INF] Trying to get all client's 1 orders
2025-04-19 19:22:02.043 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[CreatedAt], [o].[Description], [o].[Status], [o].[Title], [o].[UserId]
FROM [Order] AS [o]
WHERE [o].[UserId] = @__clientId_0
2025-04-19 19:22:02.045 -07:00 [INF] Got orders for client 1 from database
2025-04-19 19:22:02.045 -07:00 [INF] Orders for client 1 recived!
2025-04-19 19:22:02.046 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.Order, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:22:02.047 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API) in 6.5162ms
2025-04-19 19:22:02.048 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsOrdersAsync (Customer-And-Orders.API)'
2025-04-19 19:22:02.048 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients-orders/1 - 200 null application/json; charset=utf-8 13.4804ms
2025-04-19 19:22:07.277 -07:00 [INF] Request starting HTTP/2 GET https://localhost:7200/get-clients - null null
2025-04-19 19:22:07.279 -07:00 [INF] Executing endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:22:07.280 -07:00 [INF] Route matched with {action = "GetClients", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientsAsync() on controller Customer_And_Orders.API.Controllers.AdminController (Customer-And-Orders.API).
2025-04-19 19:22:07.281 -07:00 [INF] Request to get clients
2025-04-19 19:22:07.282 -07:00 [INF] Getting all clients from database
2025-04-19 19:22:07.284 -07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[PasswordHash], [u].[RefreshExpiry], [u].[RefreshToken], [u].[Role], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Role] = N'Client'
2025-04-19 19:22:07.288 -07:00 [INF] Got clients from database
2025-04-19 19:22:07.288 -07:00 [INF] Clients recived successfuly
2025-04-19 19:22:07.289 -07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Customer_And_Orders.DAL.Data.Entities.User, Customer-And-Orders.DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-19 19:22:07.289 -07:00 [INF] Executed action Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API) in 8.6738ms
2025-04-19 19:22:07.291 -07:00 [INF] Executed endpoint 'Customer_And_Orders.API.Controllers.AdminController.GetClientsAsync (Customer-And-Orders.API)'
2025-04-19 19:22:07.291 -07:00 [INF] Request finished HTTP/2 GET https://localhost:7200/get-clients - 200 null application/json; charset=utf-8 14.6083ms
>>>>>>> Added ApiResponse
